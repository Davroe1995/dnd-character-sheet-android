(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[792],{145:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>K});var l=a(5155),t=a(2115);let r={characterName:"",level:1,selectedRace:null,selectedClass:null,abilityScores:{strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10},selectedSpells:[],knownSpells:[],levelUpChoices:[],selectedFeats:[],selectedSkills:[],hitPoints:0,armorClass:10,proficiencyBonus:2,errors:[]},i=e=>Math.floor((e-10)/2),c=e=>Math.ceil(e/4)+1,d=function(e,s,a){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,t=i(s),r=parseInt(a.replace("d","")),c=(e-1)*(Math.floor(r/2)+1+t);return r+t+c+l},n=(e,s)=>{try{switch(s.type){case"SET_CHARACTER_NAME":return{...e,characterName:s.payload,errors:[]};case"SET_LEVEL":if(s.payload<1||s.payload>20)return{...e,errors:["Level must be between 1 and 20"]};return{...e,level:s.payload,proficiencyBonus:c(s.payload),errors:[]};case"SET_RACE":return{...e,selectedRace:s.payload,errors:[]};case"SET_CLASS":let a={...e,selectedClass:s.payload,errors:[]};return s.payload&&(a.hitPoints=d(e.level,e.abilityScores.constitution,s.payload.hitDie)),a;case"SET_ABILITY_SCORE":if(s.payload.value<1||s.payload.value>20)return{...e,errors:["Ability scores must be between 1 and 20"]};let l={...e.abilityScores,[s.payload.ability]:s.payload.value},t={...e,abilityScores:l,errors:[]};return t.armorClass=10+i(l.dexterity),"constitution"===s.payload.ability&&e.selectedClass&&(t.hitPoints=d(e.level,l.constitution,e.selectedClass.hitDie)),t;case"ADD_SPELL":if(e.selectedSpells.find(e=>e.id===s.payload.id))return{...e,errors:["Spell already selected"]};return{...e,selectedSpells:[...e.selectedSpells,s.payload],errors:[]};case"REMOVE_SPELL":return{...e,selectedSpells:e.selectedSpells.filter(e=>e.id!==s.payload),errors:[]};case"ADD_LEVEL_UP_CHOICE":return{...e,levelUpChoices:[...e.levelUpChoices,s.payload],errors:[]};case"REMOVE_LEVEL_UP_CHOICE":return{...e,levelUpChoices:e.levelUpChoices.filter(e=>e.level!==s.payload),errors:[]};case"ADD_FEAT":if(e.selectedFeats.find(e=>e.id===s.payload.id))return{...e,errors:["Feat already selected"]};return{...e,selectedFeats:[...e.selectedFeats,s.payload],errors:[]};case"REMOVE_FEAT":return{...e,selectedFeats:e.selectedFeats.filter(e=>e.id!==s.payload),errors:[]};case"SET_SKILLS":return{...e,selectedSkills:s.payload,errors:[]};case"CALCULATE_DERIVED_STATS":let n={...e};return n.armorClass=10+i(e.abilityScores.dexterity),e.selectedClass&&(n.hitPoints=d(e.level,e.abilityScores.constitution,e.selectedClass.hitDie)),n.proficiencyBonus=c(e.level),n;case"ADD_ERROR":return{...e,errors:[...e.errors,s.payload]};case"CLEAR_ERRORS":return{...e,errors:[]};case"RESET_CHARACTER":return{...r};default:return e}}catch(s){return console.error("Character reducer error:",s),{...e,errors:[...e.errors,"An unexpected error occurred"]}}},o=(0,t.createContext)(null),x=e=>{let{children:s}=e,[a,i]=(0,t.useReducer)(n,r);return(0,l.jsx)(o.Provider,{value:{state:a,dispatch:i},children:s})},m=()=>{let e=(0,t.useContext)(o);if(!e)throw Error("useCharacterSheet must be used within a CharacterSheetProvider");return e},h=()=>{let{dispatch:e}=m();return{setCharacterName:s=>e({type:"SET_CHARACTER_NAME",payload:s}),setLevel:s=>e({type:"SET_LEVEL",payload:s}),setRace:s=>e({type:"SET_RACE",payload:s}),setClass:s=>e({type:"SET_CLASS",payload:s}),setAbilityScore:(s,a)=>e({type:"SET_ABILITY_SCORE",payload:{ability:s,value:a}}),addSpell:s=>e({type:"ADD_SPELL",payload:s}),removeSpell:s=>e({type:"REMOVE_SPELL",payload:s}),addLevelUpChoice:s=>e({type:"ADD_LEVEL_UP_CHOICE",payload:s}),removeLevelUpChoice:s=>e({type:"REMOVE_LEVEL_UP_CHOICE",payload:s}),addFeat:s=>e({type:"ADD_FEAT",payload:s}),removeFeat:s=>e({type:"REMOVE_FEAT",payload:s}),setSkills:s=>e({type:"SET_SKILLS",payload:s}),calculateDerivedStats:()=>e({type:"CALCULATE_DERIVED_STATS"}),addError:s=>e({type:"ADD_ERROR",payload:s}),clearErrors:()=>e({type:"CLEAR_ERRORS"}),resetCharacter:()=>e({type:"RESET_CHARACTER"})}};var p=a(64),u=a(9434);function j(e){let{className:s,...a}=e;return(0,l.jsx)(p.bL,{"data-slot":"tabs",className:(0,u.cn)("flex flex-col gap-2",s),...a})}function v(e){let{className:s,...a}=e;return(0,l.jsx)(p.B8,{"data-slot":"tabs-list",className:(0,u.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...a})}function g(e){let{className:s,...a}=e;return(0,l.jsx)(p.l9,{"data-slot":"tabs-trigger",className:(0,u.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function b(e){let{className:s,...a}=e;return(0,l.jsx)(p.UC,{"data-slot":"tabs-content",className:(0,u.cn)("flex-1 outline-none",s),...a})}var f=a(6695),N=a(9962),y=a(6474),C=a(5196),S=a(7863);function k(e){let{...s}=e;return(0,l.jsx)(N.bL,{"data-slot":"select",...s})}function R(e){let{...s}=e;return(0,l.jsx)(N.WT,{"data-slot":"select-value",...s})}function w(e){let{className:s,size:a="default",children:t,...r}=e;return(0,l.jsxs)(N.l9,{"data-slot":"select-trigger","data-size":a,className:(0,u.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...r,children:[t,(0,l.jsx)(N.In,{asChild:!0,children:(0,l.jsx)(y.A,{className:"size-4 opacity-50"})})]})}function E(e){let{className:s,children:a,position:t="popper",...r}=e;return(0,l.jsx)(N.ZL,{children:(0,l.jsxs)(N.UC,{"data-slot":"select-content",className:(0,u.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...r,children:[(0,l.jsx)(Z,{}),(0,l.jsx)(N.LM,{className:(0,u.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,l.jsx)(A,{})]})})}function B(e){let{className:s,children:a,...t}=e;return(0,l.jsxs)(N.q7,{"data-slot":"select-item",className:(0,u.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...t,children:[(0,l.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,l.jsx)(N.VF,{children:(0,l.jsx)(C.A,{className:"size-4"})})}),(0,l.jsx)(N.p4,{children:a})]})}function Z(e){let{className:s,...a}=e;return(0,l.jsx)(N.PP,{"data-slot":"select-scroll-up-button",className:(0,u.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,l.jsx)(S.A,{className:"size-4"})})}function A(e){let{className:s,...a}=e;return(0,l.jsx)(N.wn,{"data-slot":"select-scroll-down-button",className:(0,u.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,l.jsx)(y.A,{className:"size-4"})})}var _=a(9708);let L=(0,a(2085).F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function T(e){let{className:s,variant:a,asChild:t=!1,...r}=e,i=t?_.DX:"span";return(0,l.jsx)(i,{"data-slot":"badge",className:(0,u.cn)(L({variant:a}),s),...r})}var F=a(7489);function D(e){let{className:s,orientation:a="horizontal",decorative:t=!0,...r}=e;return(0,l.jsx)(F.b,{"data-slot":"separator-root",decorative:t,orientation:a,className:(0,u.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...r})}let P=()=>{var e;let{state:s}=m(),{setRace:a,addError:r}=h(),[i,c]=(0,t.useState)([]),[d,n]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/data/races.json");if(!e.ok)throw Error("Failed to load races data");let s=await e.json();c(s)}catch(e){console.error("Error loading races:",e),r("Failed to load races data. Please refresh the page."),c([])}finally{n(!1)}})()},[r]);let o=e=>{let s=i.find(s=>s.id===e);s&&a(s)};return d?(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-10 bg-slate-200 dark:bg-slate-700 rounded mb-4"}),(0,l.jsx)("div",{className:"h-32 bg-slate-200 dark:bg-slate-700 rounded"})]})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"Select Race"}),(0,l.jsxs)(k,{onValueChange:o,value:(null==(e=s.selectedRace)?void 0:e.id)||"",children:[(0,l.jsx)(w,{className:"w-full",children:(0,l.jsx)(R,{placeholder:"Choose a race for your character"})}),(0,l.jsx)(E,{children:i.map(e=>(0,l.jsx)(B,{value:e.id,children:e.name},e.id))})]})]}),s.selectedRace&&(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsxs)(f.ZB,{className:"flex items-center gap-2",children:[s.selectedRace.name,(0,l.jsx)(T,{variant:"outline",children:s.selectedRace.size})]}),(0,l.jsx)(f.BT,{children:s.selectedRace.description})]}),(0,l.jsxs)(f.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("h4",{className:"font-semibold text-sm",children:"Size"}),(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.selectedRace.size})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("h4",{className:"font-semibold text-sm",children:"Speed"}),(0,l.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[s.selectedRace.speed," feet"]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("h4",{className:"font-semibold text-sm",children:"Languages"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:s.selectedRace.languages.map((e,s)=>(0,l.jsx)(T,{variant:"secondary",className:"text-xs",children:e},s))})]})]}),(0,l.jsx)(D,{}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h4",{className:"font-semibold",children:"Ability Score Increase"}),(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:Object.entries(s.selectedRace.abilityScoreIncrease).map(e=>{let[s,a]=e;return"all"===s?"All abilities +".concat(a):"choice"===s?"".concat(a," abilities of choice +1"):"".concat(s.charAt(0).toUpperCase()+s.slice(1)," +").concat(a)}).join(", ")})]}),(0,l.jsx)(D,{}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h4",{className:"font-semibold",children:"Racial Features"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:s.selectedRace.features.map((e,s)=>(0,l.jsx)(T,{variant:"outline",children:e},s))})]}),s.selectedRace.traits&&s.selectedRace.traits.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D,{}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h4",{className:"font-semibold",children:"Racial Traits"}),s.selectedRace.traits.map((e,s)=>(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("h5",{className:"font-medium text-sm",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:e.description})]},s))]})]})]})]}),!s.selectedRace&&i.length>0&&(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Available Races"}),(0,l.jsx)(f.BT,{children:"Browse through the available races and their key features"})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(e=>(0,l.jsxs)(f.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>o(e.id),children:[(0,l.jsx)(f.aR,{className:"pb-2",children:(0,l.jsx)(f.ZB,{className:"text-base",children:e.name})}),(0,l.jsxs)(f.Wu,{className:"space-y-2",children:[(0,l.jsxs)("p",{className:"text-xs text-slate-600 dark:text-slate-400 line-clamp-2",children:[e.description.substring(0,80),"..."]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.features.slice(0,2).map((e,s)=>(0,l.jsx)(T,{variant:"secondary",className:"text-xs",children:e},s)),e.features.length>2&&(0,l.jsxs)(T,{variant:"outline",className:"text-xs",children:["+",e.features.length-2," more"]})]})]})]},e.id))})})]})]})};var W=a(7655);function z(e){let{className:s,children:a,...t}=e;return(0,l.jsxs)(W.bL,{"data-slot":"scroll-area",className:(0,u.cn)("relative",s),...t,children:[(0,l.jsx)(W.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),(0,l.jsx)(I,{}),(0,l.jsx)(W.OK,{})]})}function I(e){let{className:s,orientation:a="vertical",...t}=e;return(0,l.jsx)(W.VM,{"data-slot":"scroll-area-scrollbar",orientation:a,className:(0,u.cn)("flex touch-none p-px transition-colors select-none","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",s),...t,children:(0,l.jsx)(W.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}let O=()=>{var e;let{state:s}=m(),{setClass:a,addError:r}=h(),[i,c]=(0,t.useState)([]),[d,n]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/data/classes.json");if(!e.ok)throw Error("Failed to load classes data");let s=await e.json();c(s)}catch(e){console.error("Error loading classes:",e),r("Failed to load classes data. Please refresh the page."),c([])}finally{n(!1)}})()},[r]);let o=e=>{let s=i.find(s=>s.id===e);s&&a(s)};return d?(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-10 bg-slate-200 dark:bg-slate-700 rounded mb-4"}),(0,l.jsx)("div",{className:"h-32 bg-slate-200 dark:bg-slate-700 rounded"})]})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"Select Class"}),(0,l.jsxs)(k,{onValueChange:o,value:(null==(e=s.selectedClass)?void 0:e.id)||"",children:[(0,l.jsx)(w,{className:"w-full",children:(0,l.jsx)(R,{placeholder:"Choose a class for your character"})}),(0,l.jsx)(E,{children:i.map(e=>(0,l.jsx)(B,{value:e.id,children:e.name},e.id))})]})]}),s.selectedClass&&(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsxs)(f.ZB,{className:"flex items-center gap-2",children:[s.selectedClass.name,(0,l.jsx)(T,{variant:"outline",children:s.selectedClass.hitDie})]}),(0,l.jsx)(f.BT,{children:s.selectedClass.description})]}),(0,l.jsxs)(f.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-1",children:"Hit Die"}),(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.selectedClass.hitDie})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-1",children:"Primary Abilities"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:s.selectedClass.primaryAbility.map((e,s)=>(0,l.jsx)(T,{variant:"secondary",className:"text-xs",children:e},s))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-1",children:"Saving Throw Proficiencies"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:s.selectedClass.savingThrowProficiencies.map((e,s)=>(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:e},s))})]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-1",children:"Skill Choices"}),(0,l.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Choose ",s.selectedClass.skillChoices," from the available skills"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-1",children:"Available Skills"}),(0,l.jsx)(z,{className:"h-20",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:s.selectedClass.skillOptions.map((e,s)=>(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:e},s))})})]})]})]}),(0,l.jsx)(D,{}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Armor Proficiencies"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:s.selectedClass.armorProficiencies.map((e,s)=>(0,l.jsx)(T,{variant:"secondary",className:"text-xs",children:e},s))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Weapon Proficiencies"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:s.selectedClass.weaponProficiencies.map((e,s)=>(0,l.jsx)(T,{variant:"secondary",className:"text-xs",children:e},s))})]})]}),(0,l.jsx)(D,{}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h4",{className:"font-semibold",children:"Class Features"}),(0,l.jsx)("div",{className:"space-y-3",children:s.selectedClass.features.map((e,s)=>(0,l.jsxs)(f.Zp,{className:"border-l-4 border-l-blue-500",children:[(0,l.jsx)(f.aR,{className:"pb-2",children:(0,l.jsxs)(f.ZB,{className:"text-sm flex items-center gap-2",children:[e.name,(0,l.jsxs)(T,{variant:"outline",className:"text-xs",children:["Level ",e.level]})]})}),(0,l.jsx)(f.Wu,{className:"pt-0",children:(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:e.description})})]},s))})]})]})]}),!s.selectedClass&&i.length>0&&(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Available Classes"}),(0,l.jsx)(f.BT,{children:"Browse through the available classes and their key features"})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(e=>(0,l.jsxs)(f.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>o(e.id),children:[(0,l.jsx)(f.aR,{className:"pb-2",children:(0,l.jsxs)(f.ZB,{className:"text-base flex items-center gap-2",children:[e.name,(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:e.hitDie})]})}),(0,l.jsxs)(f.Wu,{className:"space-y-2",children:[(0,l.jsxs)("p",{className:"text-xs text-slate-600 dark:text-slate-400 line-clamp-2",children:[e.description.substring(0,80),"..."]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"text-xs",children:[(0,l.jsx)("span",{className:"font-medium",children:"Primary:"})," ",e.primaryAbility.join(", ")]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.features.slice(0,2).map((e,s)=>(0,l.jsx)(T,{variant:"secondary",className:"text-xs",children:e.name},s)),e.features.length>2&&(0,l.jsxs)(T,{variant:"outline",className:"text-xs",children:["+",e.features.length-2," more"]})]})]})]})]},e.id))})})]}),s.selectedRace&&!s.selectedClass&&(0,l.jsxs)(f.Zp,{className:"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950",children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsxs)(f.ZB,{className:"text-blue-800 dark:text-blue-200",children:["Recommended Classes for ",s.selectedRace.name]}),(0,l.jsx)(f.BT,{className:"text-blue-700 dark:text-blue-300",children:"Based on your race's ability score bonuses and features"})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsxs)("div",{className:"space-y-2",children:[Object.keys(s.selectedRace.abilityScoreIncrease).includes("strength")&&(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium",children:"Fighter, Paladin, Barbarian:"})," Great for Strength-based characters"]}),Object.keys(s.selectedRace.abilityScoreIncrease).includes("dexterity")&&(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium",children:"Rogue, Ranger, Monk:"})," Excellent for Dexterity-focused builds"]}),Object.keys(s.selectedRace.abilityScoreIncrease).includes("intelligence")&&(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium",children:"Wizard:"})," Perfect for Intelligence-based spellcasting"]}),Object.keys(s.selectedRace.abilityScoreIncrease).includes("wisdom")&&(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium",children:"Cleric, Druid, Ranger:"})," Ideal for Wisdom-based abilities"]}),Object.keys(s.selectedRace.abilityScoreIncrease).includes("charisma")&&(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium",children:"Bard, Sorcerer, Warlock, Paladin:"})," Great for Charisma-based classes"]})]})})]})]})};var V=a(285);function U(e){let{className:s,type:a,...t}=e;return(0,l.jsx)("input",{type:a,"data-slot":"input",className:(0,u.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...t})}let M=()=>{let{state:e}=m(),{addSpell:s,removeSpell:a,addError:r}=h(),[i,c]=(0,t.useState)([]),[d,n]=(0,t.useState)(!0),[o,x]=(0,t.useState)(""),[p,u]=(0,t.useState)("all"),[N,y]=(0,t.useState)("all");(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/data/spells.json");if(!e.ok)throw Error("Failed to load spells data");let s=await e.json();c(s)}catch(e){console.error("Error loading spells:",e),r("Failed to load spells data. Please refresh the page."),c([])}finally{n(!1)}})()},[r]);let C=i.filter(s=>{let a=!e.selectedClass||s.classes.includes(e.selectedClass.name),l=s.name.toLowerCase().includes(o.toLowerCase())||s.description.toLowerCase().includes(o.toLowerCase()),t="all"===p||s.level.toString()===p,r="all"===N||s.school===N;return a&&l&&t&&r}),S=[...new Set(i.map(e=>e.school))].sort(),Z=a=>{e.selectedSpells.find(e=>e.id===a.id)||s(a)},A=e=>{a(e)},_=e=>0===e?"Cantrip":"".concat(e).concat(1===e?"st":2===e?"nd":3===e?"rd":"th"," Level"),L=e=>e.join(", ");return d?(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-10 bg-slate-200 dark:bg-slate-700 rounded mb-4"}),(0,l.jsx)("div",{className:"h-32 bg-slate-200 dark:bg-slate-700 rounded"})]})}):e.selectedClass?(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)(j,{defaultValue:"available",className:"w-full",children:[(0,l.jsxs)(v,{className:"grid w-full grid-cols-2",children:[(0,l.jsx)(g,{value:"available",children:"Available Spells"}),(0,l.jsxs)(g,{value:"selected",children:["Selected Spells (",e.selectedSpells.length,")"]})]}),(0,l.jsxs)(b,{value:"available",className:"space-y-4",children:[(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{className:"text-lg",children:"Spell Filters"}),(0,l.jsxs)(f.BT,{children:["Filter spells available to your ",e.selectedClass.name]})]}),(0,l.jsx)(f.Wu,{className:"space-y-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"Search"}),(0,l.jsx)(U,{placeholder:"Search spells...",value:o,onChange:e=>x(e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"Spell Level"}),(0,l.jsxs)(k,{value:p,onValueChange:u,children:[(0,l.jsx)(w,{children:(0,l.jsx)(R,{})}),(0,l.jsxs)(E,{children:[(0,l.jsx)(B,{value:"all",children:"All Levels"}),(0,l.jsx)(B,{value:"0",children:"Cantrips"}),[1,2,3,4,5,6,7,8,9].map(e=>(0,l.jsxs)(B,{value:e.toString(),children:["Level ",e]},e))]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"School"}),(0,l.jsxs)(k,{value:N,onValueChange:y,children:[(0,l.jsx)(w,{children:(0,l.jsx)(R,{})}),(0,l.jsxs)(E,{children:[(0,l.jsx)(B,{value:"all",children:"All Schools"}),S.map(e=>(0,l.jsx)(B,{value:e,children:e},e))]})]})]}),(0,l.jsx)("div",{className:"flex items-end",children:(0,l.jsx)(V.$,{variant:"outline",onClick:()=>{x(""),u("all"),y("all")},className:"w-full",children:"Clear Filters"})})]})})]}),(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsxs)(f.ZB,{children:["Available Spells (",C.length,")"]}),(0,l.jsxs)(f.BT,{children:["Spells available to your ",e.selectedClass.name]})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)(z,{className:"h-96",children:(0,l.jsxs)("div",{className:"space-y-3",children:[C.map(s=>(0,l.jsxs)(f.Zp,{className:"border-l-4 border-l-purple-500",children:[(0,l.jsx)(f.aR,{className:"pb-2",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)(f.ZB,{className:"text-base flex items-center gap-2",children:[s.name,(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:_(s.level)}),(0,l.jsx)(T,{variant:"secondary",className:"text-xs",children:s.school})]}),(0,l.jsx)(V.$,{size:"sm",onClick:()=>Z(s),disabled:e.selectedSpells.some(e=>e.id===s.id),children:e.selectedSpells.some(e=>e.id===s.id)?"Added":"Add"})]})}),(0,l.jsxs)(f.Wu,{className:"pt-0 space-y-2",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Casting Time:"})," ",s.castingTime]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Range:"})," ",s.range]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Components:"})," ",L(s.components)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Duration:"})," ",s.duration]})]}),(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.description}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[s.ritual&&(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:"Ritual"}),s.concentration&&(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:"Concentration"})]})]})]},s.id)),0===C.length&&(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"No spells found matching your criteria."})})]})})})]})]}),(0,l.jsxs)(b,{value:"selected",className:"space-y-4",children:[(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Your Selected Spells"}),(0,l.jsx)(f.BT,{children:"Spells you have chosen for your character"})]}),(0,l.jsx)(f.Wu,{children:0===e.selectedSpells.length?(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"No spells selected yet. Go to the Available Spells tab to add some."})}):(0,l.jsx)(z,{className:"h-96",children:(0,l.jsx)("div",{className:"space-y-3",children:e.selectedSpells.map(e=>(0,l.jsxs)(f.Zp,{className:"border-l-4 border-l-green-500",children:[(0,l.jsx)(f.aR,{className:"pb-2",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)(f.ZB,{className:"text-base flex items-center gap-2",children:[e.name,(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:_(e.level)}),(0,l.jsx)(T,{variant:"secondary",className:"text-xs",children:e.school})]}),(0,l.jsx)(V.$,{size:"sm",variant:"destructive",onClick:()=>A(e.id),children:"Remove"})]})}),(0,l.jsxs)(f.Wu,{className:"pt-0 space-y-2",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Casting Time:"})," ",e.castingTime]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Range:"})," ",e.range]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Components:"})," ",L(e.components)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Duration:"})," ",e.duration]})]}),(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[e.ritual&&(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:"Ritual"}),e.concentration&&(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:"Concentration"})]})]})]},e.id))})})})]}),e.selectedSpells.length>0&&(0,l.jsxs)(f.Zp,{children:[(0,l.jsx)(f.aR,{children:(0,l.jsx)(f.ZB,{children:"Spell Summary"})}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[0,1,2,3,4,5,6,7,8,9].map(s=>{let a=e.selectedSpells.filter(e=>e.level===s);return 0===a.length?null:(0,l.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:a.length}),(0,l.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:0===s?"Cantrips":"Level ".concat(s)})]},s)})})})]})]})]})}):(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"No Class Selected"}),(0,l.jsx)(f.BT,{children:"Please select a class first to view available spells."})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Go to the Class tab to choose your character's class, then return here to select spells."})})]})},H=()=>{var e,s,a;let{state:t}=m(),r=e=>Math.floor((e-10)/2),i=e=>e>=0?"+".concat(e):"".concat(e),c=e=>0===e?"Cantrip":"".concat(e).concat(1===e?"st":2===e?"nd":3===e?"rd":"th"," Level");return t.characterName&&t.selectedRace&&t.selectedClass?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(f.Zp,{className:"border-2 border-blue-200 dark:border-blue-800",children:(0,l.jsxs)(f.aR,{className:"text-center",children:[(0,l.jsx)(f.ZB,{className:"text-2xl",children:t.characterName||"Unnamed Character"}),(0,l.jsxs)(f.BT,{className:"text-lg",children:["Level ",t.level," ",null==(e=t.selectedRace)?void 0:e.name," ",null==(s=t.selectedClass)?void 0:s.name]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)(f.Zp,{children:[(0,l.jsx)(f.aR,{children:(0,l.jsx)(f.ZB,{children:"Ability Scores"})}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(t.abilityScores).map(e=>{let[s,a]=e;return(0,l.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,l.jsx)("div",{className:"font-semibold text-sm capitalize mb-1",children:s}),(0,l.jsx)("div",{className:"text-2xl font-bold",children:a}),(0,l.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:i(r(a))})]},s)})})})]}),(0,l.jsxs)(f.Zp,{children:[(0,l.jsx)(f.aR,{children:(0,l.jsx)(f.ZB,{children:"Combat Statistics"})}),(0,l.jsx)(f.Wu,{children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,l.jsx)("div",{className:"font-semibold text-sm mb-1",children:"Hit Points"}),(0,l.jsx)("div",{className:"text-2xl font-bold",children:t.hitPoints})]}),(0,l.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,l.jsx)("div",{className:"font-semibold text-sm mb-1",children:"Armor Class"}),(0,l.jsx)("div",{className:"text-2xl font-bold",children:t.armorClass})]}),(0,l.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,l.jsx)("div",{className:"font-semibold text-sm mb-1",children:"Proficiency Bonus"}),(0,l.jsx)("div",{className:"text-2xl font-bold",children:i(t.proficiencyBonus)})]}),(0,l.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,l.jsx)("div",{className:"font-semibold text-sm mb-1",children:"Speed"}),(0,l.jsxs)("div",{className:"text-2xl font-bold",children:[(null==(a=t.selectedRace)?void 0:a.speed)||30," ft"]})]})]})})]})]}),t.selectedRace&&(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Racial Features"}),(0,l.jsx)(f.BT,{children:t.selectedRace.name})]}),(0,l.jsxs)(f.Wu,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.selectedRace.description}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Size & Speed"}),(0,l.jsxs)("p",{className:"text-sm",children:[t.selectedRace.size,", ",t.selectedRace.speed," ft"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Languages"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:t.selectedRace.languages.map((e,s)=>(0,l.jsx)(T,{variant:"secondary",className:"text-xs",children:e},s))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Features"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:t.selectedRace.features.map((e,s)=>(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:e},s))})]})]}),t.selectedRace.traits&&t.selectedRace.traits.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Racial Traits"}),(0,l.jsx)("div",{className:"space-y-2",children:t.selectedRace.traits.map((e,s)=>(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-medium text-sm",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:e.description})]},s))})]})]})]})]}),t.selectedClass&&(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Class Features"}),(0,l.jsx)(f.BT,{children:t.selectedClass.name})]}),(0,l.jsxs)(f.Wu,{className:"space-y-4",children:[(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:t.selectedClass.description}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Hit Die"}),(0,l.jsx)("p",{className:"text-sm",children:t.selectedClass.hitDie})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Primary Abilities"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:t.selectedClass.primaryAbility.map((e,s)=>(0,l.jsx)(T,{variant:"secondary",className:"text-xs",children:e},s))})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Saving Throw Proficiencies"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:t.selectedClass.savingThrowProficiencies.map((e,s)=>(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:e},s))})]}),(0,l.jsx)(D,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Class Features by Level"}),(0,l.jsx)(z,{className:"h-48",children:(0,l.jsx)("div",{className:"space-y-2",children:t.selectedClass.features.filter(e=>e.level<=t.level).map((e,s)=>(0,l.jsxs)("div",{className:"border-l-2 border-l-blue-500 pl-3",children:[(0,l.jsxs)("h5",{className:"font-medium text-sm flex items-center gap-2",children:[e.name,(0,l.jsxs)(T,{variant:"outline",className:"text-xs",children:["Level ",e.level]})]}),(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:e.description})]},s))})})]})]})]}),t.selectedSpells.length>0&&(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsxs)(f.ZB,{children:["Spells (",t.selectedSpells.length,")"]}),(0,l.jsx)(f.BT,{children:"Your character's known spells"})]}),(0,l.jsxs)(f.Wu,{children:[(0,l.jsx)("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-2 mb-4",children:[0,1,2,3,4,5,6,7,8,9].map(e=>{let s=t.selectedSpells.filter(s=>s.level===e);return 0===s.length?null:(0,l.jsxs)("div",{className:"text-center p-2 border rounded",children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:s.length}),(0,l.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:0===e?"Cantrips":"Lvl ".concat(e)})]},e)})}),(0,l.jsx)(D,{}),(0,l.jsx)(z,{className:"h-64 mt-4",children:(0,l.jsx)("div",{className:"space-y-2",children:t.selectedSpells.sort((e,s)=>e.level-s.level||e.name.localeCompare(s.name)).map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:c(e.level)}),(0,l.jsx)("span",{className:"font-medium text-sm",children:e.name}),(0,l.jsx)(T,{variant:"secondary",className:"text-xs",children:e.school})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[e.ritual&&(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:"R"}),e.concentration&&(0,l.jsx)(T,{variant:"outline",className:"text-xs",children:"C"})]})]},e.id))})})]})]}),t.levelUpChoices.length>0&&(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Character Progression"}),(0,l.jsx)(f.BT,{children:"Feats and ability score improvements"})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)("div",{className:"space-y-3",children:t.levelUpChoices.map(e=>(0,l.jsxs)("div",{className:"border-l-4 border-l-green-500 pl-3",children:[(0,l.jsxs)("h4",{className:"font-semibold text-sm",children:["Level ",e.level," - ","feat"===e.type?"Feat":"Ability Score Improvement"]}),"feat"===e.type&&e.featId&&(0,l.jsx)("div",{children:(()=>{let s=t.selectedFeats.find(s=>s.id===e.featId);return s?(0,l.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[s.name,": ",s.description]}):(0,l.jsx)("p",{className:"text-sm text-slate-500",children:"Feat details not found"})})()}),"abilityScoreImprovement"===e.type&&e.abilityScoreIncreases&&(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:e.abilityScoreIncreases.map((e,s)=>(0,l.jsxs)(T,{variant:"secondary",className:"text-xs",children:[e.ability," +",e.amount]},s))})]},e.level))})})]}),t.selectedFeats.length>0&&(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsxs)(f.ZB,{children:["Feats (",t.selectedFeats.length,")"]}),(0,l.jsx)(f.BT,{children:"Special abilities and bonuses"})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)("div",{className:"space-y-3",children:t.selectedFeats.map(e=>(0,l.jsxs)("div",{className:"border rounded p-3",children:[(0,l.jsx)("h4",{className:"font-semibold mb-1",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:e.description}),(0,l.jsx)("div",{className:"space-y-1",children:e.benefits.map((e,s)=>(0,l.jsxs)("p",{className:"text-sm",children:["â€¢ ",e]},s))}),"None"!==e.prerequisites&&(0,l.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Prerequisites: ",e.prerequisites]})]},e.id))})})]}),(0,l.jsxs)(f.Zp,{className:"border-2 border-green-200 dark:border-green-800",children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{className:"text-green-800 dark:text-green-200",children:"Character Complete"}),(0,l.jsx)(f.BT,{className:"text-green-700 dark:text-green-300",children:"Your D&D character is ready for adventure!"})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.level}),(0,l.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Level"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.selectedSpells.length}),(0,l.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Spells"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.selectedFeats.length}),(0,l.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Feats"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:t.levelUpChoices.length}),(0,l.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Choices"})]})]})})]})]}):(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Incomplete Character"}),(0,l.jsx)(f.BT,{children:"Complete your character setup to view the full summary"})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("p",{className:"text-sm",children:(0,l.jsx)("span",{className:"font-medium",children:"Missing:"})}),(0,l.jsxs)("ul",{className:"list-disc list-inside text-sm space-y-1 text-slate-600 dark:text-slate-400",children:[!t.characterName&&(0,l.jsx)("li",{children:"Character name"}),!t.selectedRace&&(0,l.jsx)("li",{children:"Race selection"}),!t.selectedClass&&(0,l.jsx)("li",{children:"Class selection"})]})]})})]})};var Y=a(968);function q(e){let{className:s,...a}=e;return(0,l.jsx)(Y.b,{"data-slot":"label",className:(0,u.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}let $=()=>{var e;let{state:s}=m(),{setCharacterName:a,setLevel:t,setAbilityScore:r}=h(),i=e=>Math.floor((e-10)/2),c=e=>e>=0?"+".concat(e):"".concat(e);return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Character Information"}),(0,l.jsx)(f.BT,{children:"Basic details about your character"})]}),(0,l.jsxs)(f.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(q,{htmlFor:"characterName",children:"Character Name"}),(0,l.jsx)(U,{id:"characterName",placeholder:"Enter character name",value:s.characterName,onChange:e=>a(e.target.value),className:"w-full"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(q,{htmlFor:"level",children:"Level"}),(0,l.jsx)(U,{id:"level",type:"number",min:"1",max:"20",value:s.level,onChange:e=>t(parseInt(e.target.value)||1),className:"w-full"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(q,{children:"Race"}),(0,l.jsx)("div",{className:"p-3 border rounded-md bg-slate-50 dark:bg-slate-800",children:s.selectedRace?(0,l.jsxs)("div",{children:[(0,l.jsx)(T,{variant:"secondary",className:"mb-2",children:s.selectedRace.name}),(0,l.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[s.selectedRace.description.substring(0,100),"..."]})]}):(0,l.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No race selected"})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(q,{children:"Class"}),(0,l.jsx)("div",{className:"p-3 border rounded-md bg-slate-50 dark:bg-slate-800",children:s.selectedClass?(0,l.jsxs)("div",{children:[(0,l.jsx)(T,{variant:"secondary",className:"mb-2",children:s.selectedClass.name}),(0,l.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Hit Die: ",s.selectedClass.hitDie]})]}):(0,l.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No class selected"})})]})]})]})]}),(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Ability Scores"}),(0,l.jsx)(f.BT,{children:"Your character's core attributes"})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(s.abilityScores).map(e=>{let[s,a]=e;return(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(q,{htmlFor:s,className:"text-sm font-medium capitalize",children:s.substring(0,3).toUpperCase()}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(U,{id:s,type:"number",min:"1",max:"20",value:a,onChange:e=>r(s,parseInt(e.target.value)||10),className:"text-center font-bold"}),(0,l.jsx)("div",{className:"mt-1 text-sm font-medium text-slate-600 dark:text-slate-400",children:c(i(a))})]})]},s)})})})]}),(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Combat Statistics"}),(0,l.jsx)(f.BT,{children:"Derived combat-related statistics"})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"text-center p-4 border rounded-lg bg-slate-50 dark:bg-slate-800",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:s.hitPoints}),(0,l.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Hit Points"})]}),(0,l.jsxs)("div",{className:"text-center p-4 border rounded-lg bg-slate-50 dark:bg-slate-800",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:s.armorClass}),(0,l.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Armor Class"})]}),(0,l.jsxs)("div",{className:"text-center p-4 border rounded-lg bg-slate-50 dark:bg-slate-800",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:c(s.proficiencyBonus)}),(0,l.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Proficiency Bonus"})]}),(0,l.jsxs)("div",{className:"text-center p-4 border rounded-lg bg-slate-50 dark:bg-slate-800",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:(null==(e=s.selectedRace)?void 0:e.speed)||30}),(0,l.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Speed (ft)"})]})]})})]}),(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Quick Summary"}),(0,l.jsx)(f.BT,{children:"Overview of your character's current state"})]}),(0,l.jsxs)(f.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Selected Features"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium",children:"Spells Known:"})," ",s.selectedSpells.length]}),(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium",children:"Feats:"})," ",s.selectedFeats.length]}),(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium",children:"Skills:"})," ",s.selectedSkills.length]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Progression"}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium",children:"Level Up Choices:"})," ",s.levelUpChoices.length]}),(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium",children:"Next Level:"})," ",s.level<20?s.level+1:"Max Level"]})]})]})]}),s.selectedRace&&s.selectedClass&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Character Concept"}),(0,l.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["A level ",s.level," ",s.selectedRace.name," ",s.selectedClass.name,s.characterName&&" named ".concat(s.characterName),"."]})]})]})]})]})]})},G=()=>{let{state:e}=m();return(0,l.jsxs)("div",{className:"w-full",children:[e.errors.length>0&&(0,l.jsxs)(f.Zp,{className:"mb-6 border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950",children:[(0,l.jsx)(f.aR,{children:(0,l.jsx)(f.ZB,{className:"text-red-800 dark:text-red-200",children:"Errors"})}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.errors.map((e,s)=>(0,l.jsx)("li",{className:"text-red-700 dark:text-red-300",children:e},s))})})]}),(0,l.jsxs)(j,{defaultValue:"overview",className:"w-full",children:[(0,l.jsxs)(v,{className:"grid w-full grid-cols-5 mb-6",children:[(0,l.jsx)(g,{value:"overview",className:"text-sm font-medium",children:"Overview"}),(0,l.jsx)(g,{value:"race",className:"text-sm font-medium",children:"Race"}),(0,l.jsx)(g,{value:"class",className:"text-sm font-medium",children:"Class"}),(0,l.jsx)(g,{value:"spells",className:"text-sm font-medium",children:"Spells"}),(0,l.jsx)(g,{value:"summary",className:"text-sm font-medium",children:"Summary"})]}),(0,l.jsx)(b,{value:"overview",className:"space-y-6",children:(0,l.jsx)($,{})}),(0,l.jsx)(b,{value:"race",className:"space-y-6",children:(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Choose Your Race"}),(0,l.jsx)(f.BT,{children:"Select a race for your character. Each race provides unique traits, ability score increases, and special features."})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)(P,{})})]})}),(0,l.jsx)(b,{value:"class",className:"space-y-6",children:(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Choose Your Class"}),(0,l.jsx)(f.BT,{children:"Select a class for your character. Your class determines your hit points, proficiencies, and special abilities."})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)(O,{})})]})}),(0,l.jsx)(b,{value:"spells",className:"space-y-6",children:(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Spells & Magic"}),(0,l.jsx)(f.BT,{children:e.selectedClass?"Manage spells available to your ".concat(e.selectedClass.name,". Select spells that fit your character's level and class."):"Select a class first to view available spells."})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)(M,{})})]})}),(0,l.jsx)(b,{value:"summary",className:"space-y-6",children:(0,l.jsxs)(f.Zp,{children:[(0,l.jsxs)(f.aR,{children:[(0,l.jsx)(f.ZB,{children:"Character Summary"}),(0,l.jsx)(f.BT,{children:"A comprehensive overview of your character's choices, abilities, and progression."})]}),(0,l.jsx)(f.Wu,{children:(0,l.jsx)(H,{})})]})})]})]})};function K(){return(0,l.jsx)(x,{children:(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"D&D Character Sheet"}),(0,l.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Create and manage your Dungeons & Dragons character"})]}),(0,l.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,l.jsx)(G,{})})]})})})}},285:(e,s,a)=>{"use strict";a.d(s,{$:()=>d});var l=a(5155);a(2115);var t=a(9708),r=a(2085),i=a(9434);let c=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:s,variant:a,size:r,asChild:d=!1,...n}=e,o=d?t.DX:"button";return(0,l.jsx)(o,{"data-slot":"button",className:(0,i.cn)(c({variant:a,size:r,className:s})),...n})}},6695:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>n,ZB:()=>c,Zp:()=>r,aR:()=>i});var l=a(5155);a(2115);var t=a(9434);function r(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function i(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function c(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",s),...a})}function d(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",s),...a})}function n(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",s),...a})}},6802:(e,s,a)=>{Promise.resolve().then(a.bind(a,145))},9434:(e,s,a)=>{"use strict";a.d(s,{cn:()=>r});var l=a(2596),t=a(9688);function r(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,t.QP)((0,l.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[352,684,441,303,358],()=>s(6802)),_N_E=e.O()}]);